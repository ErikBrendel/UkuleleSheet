\documentclass[a4paper]{article}
\usepackage[a4paper, total={6in, 10in}]{geometry}
\usepackage{titletoc}
\usepackage{xstring}
\usepackage{textcomp}
\usepackage[hidelinks]{hyperref}
\usepackage{color}
\usepackage{titlesec}
\usepackage{graphicx}

%\makeatletter
%\let\latexl@section\l@section
%\def\l@section#1#2{\begingroup\let\numberline\@gobble\latexl@section{#1}{#2}\endgroup}
%\makeatother

% non-page-breaking line break
\newcommand*{\NLS}{%
	\par
	\nobreak
	\vspace{-\parskip}%
	\noindent
	\ignorespaces
}


\newcommand{\songheading}[2]{
	\vbox{%
	\section*{#1}
	\addcontentsline{toc}{section}{#1 ~\\ \mdseries{#2}}
	#2}
}

\newcommand{\song}[3]{
	\songheading{#1}{#2}
	~\NLS
	#3
	%\titlespacing*{\section}{0pt}{1.5cm}{0.4cm}
	\vspace{1cm}
	%~\\~\\~\\
}

\definecolor{codebgcolor}{gray}{0.3}
\newcommand{\songWithoutText}[2]{
	% option 1: Just the entry in the TOC, but not between the texts anymore
	%\addtocontents{toc}{\vspace{0.4cm} \hspace{-0.55cm}\textbf{#1} ~\NLS #2\hfill {\color{codebgcolor}\texttimes}\par}
	
	% option 2: entry in TOC and between the lyrics
	\songheading{#1}{#2}
	\vspace{1cm}
	%\titlespacing*{\section}{0pt}{1cm}{0.4cm}
}


\usepackage{etoolbox}
\usepackage{tikz}
\newcommand\drawukulelechord[2][]{%
	\edef\chord{#2}%
	\begin{tikzpicture}[x=1.45ex,y=2ex,line cap=round,line width=.4pt,
	baseline=(current bounding box.center),#1]
	\draw[line width=.6pt] (1,0) -- (4,0);
	\foreach \d in {1,...,4}{\draw (1,-\d) -- (4,-\d);}
	\foreach \d[count=\p] in \chord {
		\draw (\p,0) -- (\p,-4.8);
		\ifdefstring{\d}{-1}{
			\draw (\p,.25) +(-.125,-.125) -- +(.125,.125)
			+(-.125,.125) -- +(.125,-.125);
		}{
		\ifdefstring{\d}{0}{
			%\draw (\p,.25) circle(.125); % opened string
		}{
		\fill (\p,.5-1*\d) circle(.25);
	}
}
}
\path[use as bounding box] (0.5,.5) rectangle (4.5,-5);
\end{tikzpicture}%
}
\makeatletter
\newcommand\defineukulelechord[2]{%
	\csdef{@ukulelechord@#1}{\drawukulelechord{#2}}%
}
\newcommand\ukulelechord[1]{%
	\ifcsdef{@ukulelechord@#1}{%
		\csuse{@ukulelechord@#1}%
	}{%
	\GenericError{}{Undefined ukulele chord '#1'}{}{}% 
}%
}
\makeatother


\begin{document}
	
\renewcommand{\contentsname}{\centerline{Ukulele songs by Erik}}
\tableofcontents

\cleardoublepage

\twocolumn
\setlength{\columnwidth}{0.85\linewidth}

\titlespacing*{\section}{0pt}{0cm}{0.4cm}
\include{songs}

\clearpage
\onecolumn
\section*{\centerline{Chords Overview}}
~\\~\\
%
\makebox[\textwidth][s]{\textit{~~dur ~~~~ 6 ~~~~ 7~~}}\\~\\~\\
%
\noindent\hfill
\includegraphics[width=0.25\linewidth]{../images/acc01_dur}
\hfill
\includegraphics[width=0.25\linewidth]{../images/acc02_6}
\hfill
\includegraphics[width=0.25\linewidth]{../images/acc03_7}
\hfill\\
%
~\\~\\~\\~\\~\\
%
\makebox[\textwidth][s]{\textit{~~moll ~~~~ m6 ~~~~ m7~~}}\\~\\~\\
%
\noindent\hfill
\includegraphics[width=0.25\linewidth]{../images/acc04_moll}
\hfill
\includegraphics[width=0.25\linewidth]{../images/acc05_m6}
\hfill
\includegraphics[width=0.25\linewidth]{../images/acc06_m7}
\hfill\\%
%
~\\~\\~\\~\\~\\
%
\makebox[\textwidth][s]{\textit{~sus2 ~ sus4 ~ Maj7 ~ Dim7~}}\\~\\~\\
%
\includegraphics[width=0.2\linewidth]{../images/acc07_sus2}
\hfill
\includegraphics[width=0.2\linewidth]{../images/acc08_sus4}
\hfill
\includegraphics[width=0.2\linewidth]{../images/acc09_Maj7}
\hfill
\includegraphics[width=0.2\linewidth]{../images/acc10_Dim7}
%\hfill

\clearpage
%\drawukulelechord{2,1,0,0}
\hspace{-2.2cm}%
\renewcommand{\arraystretch}{3.5}
%  copied from here: https://tex.stackexchange.com/questions/318670/generating-ukulele-chord-diagrams
\begin{tabular}{r|ccccccccccccc}
	         & maj                        & 6                           & 7                           & 9                           & maj7                        & m                           & m6                          & m7                          & m9                          & sus2                        & sus4                        & +                           & dim                         \\\hline
	C        & \drawukulelechord{0,0,0,3} & \drawukulelechord{0,0,0,0} & \drawukulelechord{0,0,0,1} & \drawukulelechord{0,2,0,1} & \drawukulelechord{0,0,0,2} & \drawukulelechord{0,3,3,3} & \drawukulelechord{0,3,3,0} & \drawukulelechord{3,3,3,3} & \drawukulelechord{5,3,3,5} & \drawukulelechord{0,2,3,3} & \drawukulelechord{0,0,1,3} & \drawukulelechord{1,0,0,3} & \drawukulelechord{2,3,2,3} \\
	\shortstack[r]{C\# \\\vspace{-0.5cm}/ Db} & \drawukulelechord{1,1,1,4} & \drawukulelechord{1,1,1,1} & \drawukulelechord{1,1,1,2} & \drawukulelechord{1,3,1,2} & \drawukulelechord{1,1,1,3} & \drawukulelechord{5,3,3,3} & \drawukulelechord{1,4,4,1} & \drawukulelechord{1,4,4,2} & \drawukulelechord{1,3,0,4} & \drawukulelechord{1,3,4,4} & \drawukulelechord{1,1,2,4} & \drawukulelechord{2,1,1,0} & \drawukulelechord{0,1,0,1} \\
	D        & \drawukulelechord{2,2,2,0} & \drawukulelechord{2,2,2,2} & \drawukulelechord{2,2,2,3} & \drawukulelechord{2,4,2,3} & \drawukulelechord{2,2,2,4} & \drawukulelechord{2,2,1,0} & \drawukulelechord{2,2,1,2} & \drawukulelechord{2,2,1,3} & \drawukulelechord{2,4,1,5} & \drawukulelechord{2,2,0,0} & \drawukulelechord{0,2,3,0} & \drawukulelechord{3,2,2,1} & \drawukulelechord{1,2,1,2} \\
	\shortstack[r]{D\# \\\vspace{-0.5cm}/ Eb} & \drawukulelechord{0,3,3,1} & \drawukulelechord{3,3,3,3} & \drawukulelechord{3,3,3,4} & \drawukulelechord{0,1,1,1} & \drawukulelechord{3,3,3,5} & \drawukulelechord{3,3,2,1} & \drawukulelechord{3,0,2,1} & \drawukulelechord{3,1,2,1} & \drawukulelechord{3,5,2,6} & \drawukulelechord{3,3,1,1} & \drawukulelechord{1,3,4,1} & \drawukulelechord{0,3,3,2} & \drawukulelechord{2,3,2,3} \\
	E        & \drawukulelechord{4,4,4,2} & \drawukulelechord{1,1,0,2} & \drawukulelechord{1,2,0,2} & \drawukulelechord{1,2,2,2} & \drawukulelechord{1,3,0,2} & \drawukulelechord{0,4,3,2} & \drawukulelechord{4,4,3,4} & \drawukulelechord{0,2,0,2} & \drawukulelechord{0,4,2,2} & \drawukulelechord{4,4,2,2} & \drawukulelechord{2,4,5,2} & \drawukulelechord{1,0,0,3} & \drawukulelechord{0,1,0,1} \\
	F        & \drawukulelechord{2,0,1,0} & \drawukulelechord{2,2,1,3} & \drawukulelechord{2,3,1,0} & \drawukulelechord{2,3,3,3} & \drawukulelechord{2,4,1,3} & \drawukulelechord{1,0,1,3} & \drawukulelechord{1,2,1,3} & \drawukulelechord{1,3,1,3} & \drawukulelechord{0,5,4,3} & \drawukulelechord{0,0,1,3} & \drawukulelechord{3,0,1,1} & \drawukulelechord{2,1,1,0} & \drawukulelechord{1,2,1,2} \\
	\shortstack[r]{F\# \\\vspace{-0.5cm}/ Gb} & \drawukulelechord{3,1,2,1} & \drawukulelechord{3,3,1,4} & \drawukulelechord{3,4,2,0} & \drawukulelechord{1,1,0,1} & \drawukulelechord{3,5,2,4} & \drawukulelechord{2,1,2,0} & \drawukulelechord{2,3,2,4} & \drawukulelechord{2,4,2,4} & \drawukulelechord{1,1,2,0} & \drawukulelechord{1,1,2,4} & \drawukulelechord{4,2,3,3} & \drawukulelechord{3,2,2,1} & \drawukulelechord{2,3,2,3} \\
	G        & \drawukulelechord{0,2,3,2} & \drawukulelechord{0,2,0,2} & \drawukulelechord{0,2,1,2} & \drawukulelechord{2,2,1,2} & \drawukulelechord{0,2,2,2} & \drawukulelechord{0,2,3,1} & \drawukulelechord{0,2,0,1} & \drawukulelechord{0,2,1,1} & \drawukulelechord{2,2,3,1} & \drawukulelechord{0,2,3,0} & \drawukulelechord{0,2,3,3} & \drawukulelechord{0,3,3,2} & \drawukulelechord{0,1,0,1} \\
	\shortstack[r]{G\# \\\vspace{-0.5cm}/ Ab} & \drawukulelechord{5,3,4,3} & \drawukulelechord{1,3,1,3} & \drawukulelechord{1,3,2,3} & \drawukulelechord{3,3,2,3} & \drawukulelechord{1,3,3,3} & \drawukulelechord{4,3,4,2} & \drawukulelechord{1,3,1,2} & \drawukulelechord{1,3,2,2} & \drawukulelechord{3,3,4,2} & \drawukulelechord{1,3,4,1} & \drawukulelechord{1,3,4,4} & \drawukulelechord{1,0,0,3} & \drawukulelechord{1,2,1,2} \\
	A        & \drawukulelechord{2,1,0,0} & \drawukulelechord{2,1,2,0} & \drawukulelechord{0,1,0,0} & \drawukulelechord{0,1,0,2} & \drawukulelechord{1,1,0,0} & \drawukulelechord{2,0,0,0} & \drawukulelechord{2,0,2,0} & \drawukulelechord{0,0,0,0} & \drawukulelechord{2,0,0,2} & \drawukulelechord{2,4,5,2} & \drawukulelechord{2,2,0,0} & \drawukulelechord{2,1,1,0} & \drawukulelechord{2,3,2,3} \\
	\shortstack[r]{A\# \\\vspace{-0.5cm}/ B}  & \drawukulelechord{3,2,1,1} & \drawukulelechord{0,2,1,1} & \drawukulelechord{1,2,1,1} & \drawukulelechord{1,2,1,3} & \drawukulelechord{3,2,1,0} & \drawukulelechord{3,1,1,1} & \drawukulelechord{3,1,3,1} & \drawukulelechord{1,1,1,1} & \drawukulelechord{3,1,1,3} & \drawukulelechord{3,0,1,1} & \drawukulelechord{3,3,1,1} & \drawukulelechord{3,2,2,1} & \drawukulelechord{0,1,0,1} \\
	H        & \drawukulelechord{4,3,2,2} & \drawukulelechord{1,3,2,2} & \drawukulelechord{2,3,2,2} & \drawukulelechord{2,3,2,4} & \drawukulelechord{4,3,2,1} & \drawukulelechord{4,2,2,2} & \drawukulelechord{1,2,2,2} & \drawukulelechord{2,2,2,2} & \drawukulelechord{4,2,2,4} & \drawukulelechord{4,1,2,2} & \drawukulelechord{4,4,2,2} & \drawukulelechord{0,3,3,2} & \drawukulelechord{1,2,1,2}
\end{tabular}

\end{document}



